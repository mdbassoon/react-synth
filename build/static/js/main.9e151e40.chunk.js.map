{"version":3,"sources":["Synth.js","serviceWorker.js","index.js"],"names":["Synth","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","wave","hertz","focusedBox","noteLength","audioCtx","playTouchKeyboard","stateBoxes","id","gain0","masterVolume","tremoloTime","tremoloGain","chorusTime","chorusGain","octave","appWidth","scope","scopeColor","scopeBackground","scopeColorType","scopeScale","windowWidth","window","innerWidth","windowHeight","innerHeight","nodes","masterGain","show","focusedSetting","reverb","convolver","buffers","colorScheme","analyzeTimeout","lfoTimeout","playOrgan","bind","assertThisInitialized","setTouchKeyboard","stopTouch","resizeApp","inputChange","changeSetting","listeners","stopAllNotes","stopNote","stringToPitch","keyToPitch","midiToPitch","analyze","touchOrgan","reverbSwitch","changeColors","refreshContext","loadReverb","persistSession","restoreSession","sessionStorage","setItem","JSON","stringify","_this2","session","parse","getItem","setState","lfo","startLfo","scheme","_this3","clearInterval","randomColor1","Math","random","toString","substr","randomColor2","analyzeTimer","setInterval","_this4","connectReverb","e","target","name","value","type","checked","setting","box","note","bool","str","strToNum","c-2","c#-2","c#-1","d-1","d#-1","e-1","f-1","f#-1","g-1","g#-1","a-1","a#-1","b-1","c","c#","d","d#","f","f#","g","g#","a","a#","b","c1","c#1","d1","d#1","e1","f1","f#1","g1","g#1","a1","a#1","b1","c2","c#2","d2","d#2","e2","f2","f#2","g2","g#2","a2","a#2","b2","c3","key","78","192","74","77","81","188","87","76","51","190","69","59","52","16","65","90","83","88","68","67","86","71","66","72","82","84","54","89","55","85","56","73","79","48","80","173","219","console","log","36","37","38","39","40","41","42","43","44","45","46","47","49","50","53","57","58","60","61","62","63","64","70","pitch","_this5","isNaN","settingsBox","effects","createGain","gain","i","osc","createOscillator","freq","pow","frequency","oscGain","connect","push","chorus0","parseInt","chorus0Gain","chorus1","chorus1Gain","limiter","newPitches","length","start","lfoGain","analyser","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","canvas","document","getElementById","myCanvas","getContext","canvasWidth","offsetWidth","canvasHeight","height","colorType","colors","classic","digital","response","shuffle","keyColor","scale","draw","requestAnimationFrame","getByteTimeDomainData","fillStyle","fillRect","lineWidth","strokeStyle","beginPath","x","lineTo","stroke","_this6","currentNotes","keys","_this7","pitches","y","stop","clearTimeout","timeout","setTimeout","_this8","addEventListener","body","preventDefault","stopPropagation","which","navigator","requestMIDIAccess","then","access","getMIDIMessage","message","data","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","inputs","values","Symbol","iterator","next","done","onmidimessage","err","return","func","AudioContext","webkitAudioContext","createAnalyser","createConvolver","destination","_this9","url","location","origin","fetch","res","arrayBuffer","audioData","decodeAudioData","buffer","_this10","_this11","alert","close","_this12","isMobile","isPortrait","keyboardHeight","scopeInputs","react_default","createElement","react","onClick","className","style","position","top","left","visibility","width","whiteKey","marginLeft","blackKey","smallKeyboard","onTouchStart","onTouchEnd","onMouseUp","onMouseDown","onMouseEnter","onMouseLeave","fullKeyBoard","margin","showSetting","min","max","onChange","boxes","tremolo","chorus","closeSettingBox","React","Component","Boolean","hostname","match","ReactDOM","render","src_Synth_0"],"mappings":"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","file":"static/js/main.9e151e40.chunk.js","sourcesContent":["import React, {Fragment} from 'react';\nimport './Synth.css';\nclass Synth extends React.Component {\n  constructor(props) {\n    super(props);\n    const defaultSynthSettings = {\n      wave:'sine',\n      id:0,\n      gain0:100,\n      masterVolume:800,\n      tremoloTime:100,\n      tremoloGain:0,\n      chorusTime:1,\n      chorusGain:0,\n      octave:0,\n      appWidth:null\n    }\n    this.state = {\n      wave: 'sawtooth',\n      hertz: 440,\n      focusedBox:0,\n      noteLength:0,\n      audioCtx:null,\n      playTouchKeyboard:false,\n      stateBoxes:[defaultSynthSettings],\n      scope:true,\n      scopeColor:'#333333',\n      scopeBackground:'#ffffff',\n      scopeColorType:'color',\n      scopeScale:1,\n      windowWidth:window.innerWidth,\n      windowHeight:window.innerHeight,\n      nodes:{},\n      masterGain:null,\n      show:null,\n      focusedSetting:null,\n      reverb:false,\n      convolver:null,\n      buffers:[],\n      colorScheme:'classic',\n      analyzeTimeout:null,\n      lfoTimeout:null\n    }\n    this.playOrgan = this.playOrgan.bind(this);\n    this.setTouchKeyboard = this.setTouchKeyboard.bind(this);\n    this.stopTouch = this.stopTouch.bind(this);\n    this.resizeApp = this.resizeApp.bind(this);\n    this.inputChange = this.inputChange.bind(this);\n    this.changeSetting = this.changeSetting.bind(this);\n    this.listeners = this.listeners.bind(this);\n    this.stopAllNotes = this.stopAllNotes.bind(this);\n    this.stopNote = this.stopNote.bind(this);\n    this.stringToPitch = this.stringToPitch.bind(this);\n    this.keyToPitch = this.keyToPitch.bind(this);\n    this.midiToPitch = this.midiToPitch.bind(this);\n    this.analyze = this.analyze.bind(this);\n    this.touchOrgan = this.touchOrgan.bind(this);\n    this.reverbSwitch = this.reverbSwitch.bind(this);\n    this.changeColors = this.changeColors.bind(this);\n    this.refreshContext = this.refreshContext.bind(this);\n    this.loadReverb = this.loadReverb.bind(this);\n    this.persistSession = this.persistSession.bind(this);\n    this.restoreSession = this.restoreSession.bind(this);\n  }\n  persistSession() {\n    sessionStorage.setItem('synth-state',JSON.stringify(this.state));\n  }\n  restoreSession() {\n    const session = JSON.parse(window.sessionStorage.getItem('synth-state'));\n    if(session){\n      session.focusedSetting = null;\n      session.nodes = {};\n     this.setState(session,()=>{\n        this.refreshContext(()=>{\n          this.loadReverb();\n          this.listeners();\n          this.analyze();\n          if(this.state.lfo){\n            this.setState({lfo:null},()=>{\n              this.startLfo();\n            });\n          }\n        });\n      });\n    }\n  }\n  changeColors(scheme) {\n    this.setState({colorScheme:scheme},()=>{\n      if(this.state.analyzeTimeout&&this.state.colorScheme!=='shuffle'){\n        clearInterval(this.state.analyzeTimeout);\n        this.setState({analyzeTimeout:null});\n      }\n      if(this.state.colorScheme==='shuffle'&&!this.state.analyzeTimeout){\n        const analyzeTimer = setInterval(()=>{\n          this.setState({randomColor1:'#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6),randomColor2:'#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6)},()=>{this.analyze()});\n        },1500);\n        this.setState({analyzeTimeout:analyzeTimer,randomColor1:'#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6),randomColor2:'#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6)},()=>{\n          this.analyze()\n        });\n      } else if(this.state.colorScheme==='random') {\n        this.setState({randomColor1:'#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6),randomColor2:'#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6)},()=>{this.analyze();});\n      } else if(this.state.colorScheme!=='shuffle'){this.analyze();}\n      this.persistSession();\n    });\n  }\n  reverbSwitch(){\n    const reverb = !this.state.reverb;\n    this.setState({reverb:reverb},()=>{\n      this.connectReverb();\n    })\n  }\n  inputChange(e) {\n    const target = e.target;\n    const name = target.name;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const state = this.state;\n    state[name] = value;\n    this.setState(state);\n  }\n  closeSettingBox(e) {\n      this.setState({focusedSetting:null});\n  }\n  showSetting(setting) {\n    if(this.state.focusedSetting===setting){\n      this.setState({focusedSetting:null});      \n    } else {\n      this.setState({focusedSetting:setting});\n    }\n  }\n  changeSetting(box, e) {\n    const name = e.target.name;\n    const value = e.target.value;\n    const stateBoxes = this.state.stateBoxes;\n    const stateBox = stateBoxes[box.id];\n    stateBox[name] = value;\n    this.setState({stateBoxes:stateBoxes},this.persistSession());\n  }\n  touchOrgan(note, e) {\n    if(this.state.playTouchKeyboard){\n      this.playOrgan(note);\n    }\n  }\n  setTouchKeyboard(bool) {\n    this.setState({playTouchKeyboard:bool});\n  }\n  stringToPitch(str) {\n    const strToNum = {'c-2':-21,'c#-2':-21,'c#-1':-20,'d-1':-19,'d#-1':-18,'e-1':-17,'f-1':-16,'f#-1':-15,'g-1':-14,'g#-1':-13,'a-1':-12,'a#-1':-11,'b-1':-10,'c':-9,'c#':-8,'d':-7,'d#':-6,'e':-5,'f':-4,'f#':-3,'g':-2,'g#':-1,'a':0,'a#':1,'b':2,'c1':3,'c#1':4,'d1':5,'d#1':6,'e1':7,'f1':8,'f#1':9,'g1':10,'g#1':11,'a1':12,'a#1':13,'b1':14,'c2':15,'c#2':16,'d2':17,'d#2':18,'e2':19,'f2':20,'f#2':21,'g2':22,'g#2':23,'a2':24,'a#2':25,'b2':26,'c3':27,};\n    if(!strToNum[str]&&strToNum[str]!==0){\n      return null;\n    } else {\n      return strToNum[str];\n    }\n  }\n  keyToPitch(key) {\n    const keyToPitch = {78:0,192:0,74:1,77:2,81:2,188:3,87:3,76:4,51:4,190:5,69:5,59:6,52:6,16:-11,65:-10,90:-9,83:-8,88:-7,68:-6,67:-5,86:-4,71:-3,66:-2,72:-1,82:7,84:8,54:9,89:10,55:11,85:12,56:13,73:14,79:15,48:16,80:17,173:18,219:19};\n    if(!keyToPitch[key]&&keyToPitch[key]!==0){\n      return null;\n    } else {\n      return keyToPitch[key];\n    }\n  }\n  midiToPitch(key) {\n    console.log(key)\n    const midiToPitch = {\n      36:'c-2',\n      37:'c#-1',\n      38:'d-1',\n      39:'d#-1',\n      40:'e-1',\n      41:'f-1',\n      42:'f#-1',\n      43:'g-1',\n      44:'g#-1',\n      45:'a-1',\n      46:'a#-1',\n      47:'b-1',\n      48:'c',\n      49:'c#',\n      50:'d',\n      51:'d#',\n      52:'e',\n      53:'f',\n      54:'f#',\n      55:'g',\n      56:'g#',\n      57:'a',\n      58:'a#',\n      59:'b',\n      60:'c1',\n      61:'c#1',\n      62:'d1',\n      63:'d#1',\n      64:'e1',\n      65:'f1',\n      66:'f#1',\n      67:'g1',\n      68:'g#1',\n      69:'a1',\n      70:'a#1',\n      71:'b1',\n      72:'c2',\n    }\n    return !midiToPitch[key]?null:this.stringToPitch(midiToPitch[key]);\n  }\n  playOrgan(pitch) {\n    if(isNaN(pitch)){pitch = this.stringToPitch(pitch);}\n    let nodes = this.state.nodes;\n    //Stops from making continuous oscillators on keyboard down, then Checks if the pitch is one of the assigned keys, but allows 0 which is throwing as null for some reason\n    if(nodes[pitch]){return;}\n    if(!pitch&&pitch!==0){return;}\n    const settingsBox = this.state.stateBoxes[this.state.focusedBox];\n    const octave = settingsBox.octave;\n    const audioCtx = this.state.audioCtx;\n    const effects = audioCtx.createGain();\n    effects.gain.value = !settingsBox.masterVolume?0:settingsBox.masterVolume/1000;\n\n    for(let i = 0;i<1;i++){\n      const osc = audioCtx.createOscillator();\n      osc.type = settingsBox.wave;\n      const freq = this.state.hertz*Math.pow(Math.pow(2, (1/12)), (pitch)+((octave+i)*12));\n      osc.frequency.value = freq;\n      const oscGain = audioCtx.createGain();            \n      oscGain.gain.value = !settingsBox['gain'+i]?0:settingsBox['gain'+i]/100;\n      osc.connect(oscGain);\n      osc.connect(effects);\n      nodes[pitch] = [];\n      nodes[pitch].push(osc);\n      if(settingsBox.chorusGain>0){\n        const chorus0 = audioCtx.createOscillator();\n        chorus0.type = settingsBox.wave;\n        chorus0.frequency.value = freq+parseInt(settingsBox.chorusTime);\n        const chorus0Gain = audioCtx.createGain();            \n        chorus0Gain.gain.value = !settingsBox['gain'+i]?0:(settingsBox['gain'+i])/100;\n        chorus0.connect(chorus0Gain);\n        chorus0.connect(effects);\n        const chorus1 = audioCtx.createOscillator();\n        chorus1.type = settingsBox.wave;\n        chorus1.frequency.value = freq-parseInt(settingsBox.chorusTime);\n        const chorus1Gain = audioCtx.createGain();            \n        chorus1Gain.gain.value = !settingsBox['gain'+i]?0:(settingsBox['gain'+i])/100;\n        chorus1.connect(chorus1Gain);\n        chorus1.connect(effects);\n        nodes[pitch].push(chorus0);\n        nodes[pitch].push(chorus1);\n      }\n    }\n    const limiter = this.state.limiter;\n    effects.connect(limiter);\n\n    this.setState({nodes:nodes},()=>{\n      const newPitches = this.state.nodes[pitch]; \n      if(newPitches) {\n        this.analyze();\n        if(!this.state.lfo){\n          this.startLfo();\n        }\n        for(let i=0;i<newPitches.length;i++){\n          const note = newPitches[i];\n          note.start();\n        }\n      }\n    }); \n  }\n  startLfo() {\n    const audioCtx = this.state.audioCtx;\n    const lfo = audioCtx.createOscillator();\n    const lfoGain = audioCtx.createGain();\n    const limiter = this.state.limiter;\n    const settingsBox = this.state.stateBoxes[this.state.focusedBox];\n    lfo.wave = settingsBox.wave;\n    lfo.frequency.value = settingsBox.tremoloTime/100;\n    lfoGain.gain.value = settingsBox.tremoloGain/100;\n    lfo.connect(lfoGain);\n    lfoGain.connect(limiter.gain);\n    this.setState({lfo:lfo},()=>{\n      lfo.start();\n    });\n  }\n  analyze() {\n    const analyser = this.state.analyser;\n    if(this.state.scope){\n      analyser.fftSize = 256;\n      const bufferLength = analyser.frequencyBinCount;\n      const dataArray = new Uint8Array(bufferLength*2);\n      const canvas = document.getElementById(\"oscilliscope\");\n      const myCanvas = canvas.getContext(\"2d\");\n      const canvasWidth = canvas.offsetWidth;\n      const canvasHeight = canvas.height;\n      const colorType = this.state.scopeColorType;\n      const colors = {\n        'classic':['rgba(255,255,255,1)','rgba(0,0,0,1)'],\n        'digital':['rgba(0,0,0,1)','rgba(0,255,65,1)'],\n        'response':['#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6),'#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6)],\n        'random':[this.state.randomColor1||'#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6),this.state.randomColor2||'#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6)],\n        'shuffle':[this.state.randomColor1||'#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6),this.state.randomColor2||'#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6)],\n      }\n      const scopeColor = colors[this.state.colorScheme][1];\n      const keyColor = colors[this.state.colorScheme][0];\n      const scale = (this.state.scopeScale>0?this.state.scopeScale:0.5);\n      const draw = () => {\n        requestAnimationFrame(draw);\n        analyser.getByteTimeDomainData(dataArray);\n        myCanvas.fillStyle = keyColor;\n        myCanvas.fillRect(0, 0, canvasWidth, canvasHeight);\n        myCanvas.lineWidth = 6;\n        myCanvas.strokeStyle = (colorType==='color'?scopeColor:\"#333\");\n        myCanvas.beginPath();\n        for(let x=0;x<dataArray.length;x++){\n          myCanvas.lineTo(x*4,  (canvasHeight/2)+(128-dataArray[x])*scale);\n        }\n        myCanvas.stroke();\n      } \n      draw();\n    }\n  }\n  stopTouch(pitch){\n    if(!pitch&&pitch!==0){return;}\n    const currentNotes = this.state.nodes;\n    if(isNaN(pitch)){pitch = this.stringToPitch(pitch)}\n    if(currentNotes[pitch]){\n      if(Object.keys(this.state.nodes).length===1){\n        this.setState({playTouchKeyboard:false},()=>{\n\n          this.stopAllNotes();\n        });\n      } else if(Object.keys(this.state.nodes).length>1) {\n        this.stopNote(pitch);\n      }\n    }\n  }\n  stopAllNotes() {\n    const currentNotes = this.state.nodes;\n    if(Object.keys(currentNotes)){\n      const pitches = Object.keys(currentNotes);\n      for(let i=0;i<pitches.length;i++) {\n        const pitch = pitches[i];\n        for(let y=0;y<currentNotes[pitch].length;y++){\n          currentNotes[pitch][y].stop();\n        }\n      }\n      clearTimeout(this.state.lfoTimeout);\n      const timeout = setTimeout(()=>{\n        if(this.state.lfo){\n          const lfo = this.state.lfo;\n          lfo.stop();\n          this.setState({lfo:null,lfoTimeout:null})\n        }\n      },600);\n      this.setState({nodes:{},playTouchKeyboard:false,lfoTimeout:timeout},()=>{\n        if(this.state.colorScheme!=='shuffle'){this.analyze()};\n      });\n    }\n  }\n  stopNote(pitch) {\n    if(!pitch&&pitch!==0){return;}\n    let currentNotes = this.state.nodes;\n    if(isNaN(pitch)){pitch = this.stringToPitch(pitch)}\n    if(currentNotes[pitch]){\n      for(let y=0;y<currentNotes[pitch].length;y++){\n          currentNotes[pitch][y].stop();\n      }\n      delete currentNotes[pitch];\n      if(Object.keys(currentNotes).length>0) {\n        this.setState({nodes:currentNotes});\n      } else {\n        if(!this.state.playTouchKeyboard){\n        this.stopAllNotes();\n        }\n      }\n    }\n  }\n  resizeApp() {\n    const windowWidth = window.innerWidth;\n    const windowHeight = window.innerHeight;\n    this.setState({windowWidth:windowWidth,windowHeight:windowHeight});\n  }\n  listeners() {\n    window.addEventListener('resize', this.resizeApp);\n    //if the mouse click ends\n    //    document.body.addEventListener('mouseup', this.stopAllNotes);\n    //if mouse leaves the keys\n    document.getElementById('touch-keyboard').addEventListener('mouseleave', this.setTouchKeyboard.bind(this, false));\n    // if window loses focus\n    window.addEventListener('blur',this.stopAllNotes);\n    //if context menu is brought up\n    document.body.addEventListener('contextmenu',(e)=>{\n      if(!process.env.NODE_ENV||process.env.NODE_ENV!=='development'){\n        e.preventDefault();e.stopPropagation();\n      }\n    });\n    //if a new click happens\n    window.addEventListener('click',(e)=>{\n    });\n    //Key Down Events\n    document.body.addEventListener('keydown', (e)=>{\n      const pitch = this.keyToPitch(e.which);\n      this.playOrgan(pitch);\n    });\n    //if the keyboard goes up\n    document.body.addEventListener('keyup', (e) => {\n      const pitch = this.keyToPitch(e.which);\n      this.stopNote(pitch);\n    });\n    //MIDI Events\n    navigator.requestMIDIAccess()\n        .then((access) => {\n          console.log(access);\n          const getMIDIMessage = message => {\n            const pitch = this.midiToPitch(message.data[1]);\n            console.log(pitch);\n            if(message.data[0]===144){\n              this.playOrgan(pitch);\n            } else if(message.data[0]===128) {\n              this.stopNote(pitch);\n            }\n          }\n          for (let input of access.inputs.values()){\n            input.onmidimessage = getMIDIMessage;\n          }\n        });\n  }\n  refreshContext(func) {\n    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n    const masterGain = audioCtx.createGain();            \n    const analyser = audioCtx.createAnalyser();\n    const convolver = audioCtx.createConvolver();\n    const settingsBox = this.state.stateBoxes[this.state.focusedBox];\n    const limiter = audioCtx.createGain();\n    \n    limiter.gain.value = (0.9*(settingsBox.chorusGain>0&&settingsBox.chorusTime>0?settingsBox.chorusGain/100:1)*(settingsBox.tremoloGain>0&&settingsBox.tremoloTime>0?settingsBox.tremoloGain/100:1))/(this.state.masterVolume>0?this.state.masterVolume/100:1);\n    limiter.connect(masterGain);\n    masterGain.gain.value = 0.4;\n    masterGain.connect(analyser);  \n    analyser.connect(audioCtx.destination);\n\n    this.setState({audioCtx:audioCtx,masterGain:masterGain,analyser:analyser,convolver:convolver,limiter:limiter},()=>{\n      if(func){\n        func();\n      }\n    });\n  }\n  loadReverb(){\n    let audioCtx = this.state.audioCtx;\n    let masterGain = this.state.masterGain;            \n    let analyser = this.state.analyser;\n    let convolver = this.state.convolver;\n    const url = (window.location.origin+'/ir/RedBridge.wav');\n    fetch(url).then((res)=>{return res.arrayBuffer()}).then((audioData)=>{\n      audioCtx.decodeAudioData(audioData, (buffer)=>{\n        if(!buffer){\n          masterGain.connect(analyser);   \n        } else {\n          convolver.buffer = buffer;\n          const buffers = [buffer];\n          this.setState({convolver:convolver,buffers:buffers},()=>{this.connectReverb()});       \n        }        \n      });\n    });\n  }\n  connectReverb() {\n    const masterGain = this.state.masterGain;\n    const analyser = this.state.analyser;\n    const convolver = this.state.convolver;\n    if(this.state.reverb&&this.state.convolver){\n      convolver.buffer = this.state.buffers[0];\n      masterGain.connect(convolver);\n      convolver.connect(analyser);\n      this.setState({masterGain:masterGain,convolver:convolver,analyser:analyser},()=>{this.persistSession()});\n    } else {\n      convolver.buffer = null;\n      masterGain.connect(analyser);\n      this.setState({masterGain:masterGain,convolver:convolver,analyser:analyser},()=>{this.persistSession()});\n    }\n  }\n  componentDidMount() {\n    alert('You are about to play with music. Please keep your volume at an appropriate level.');\n    this.refreshContext(()=>{\n      this.loadReverb();\n      this.listeners();\n      this.analyze();\n    });\n    /*if(!window.sessionStorage.getItem('synth-state')){\n      alert('You are about to play with music. Please keep your volume at an appropriate level.');\n      this.refreshContext(()=>{\n        this.loadReverb();\n        this.listeners();\n        this.analyze();\n      });\n    } else {\n     this.restoreSession();\n     this.listeners();\n    }*/\n  }\n  componentWillUnmount() {\n    this.state.audioCtx.close();  \n  }\n  render() { \n    let isMobile = this.state.windowWidth>980?false:true;\n    let isPortrait = this.state.windowWidth>this.state.windowHeight?false:true;\n\n    const appWidth = isPortrait?!isMobile?900:this.state.windowHeight-80:isMobile?this.state.windowWidth-80:900;\n    const keyboardHeight = !isPortrait?\n        this.state.windowHeight>516?\n          400:this.state.windowHeight-76\n        :isMobile?\n          this.state.windowWidth>516?400:this.state.windowWidth-76\n            :this.state.windowHeight>516?\n              400\n          :this.state.windowHeight-76;\n\n    const scopeInputs = <Fragment>\n      <div onClick={this.changeColors.bind(this, 'classic')} className={'button '+(this.state.colorScheme==='classic'?'highlight-button':'')}>Classic</div>\n      <div onClick={this.changeColors.bind(this, 'digital')} className={'button '+(this.state.colorScheme==='digital'?'highlight-button':'')}>Digital</div>\n      <div onClick={this.changeColors.bind(this, 'random')}  className={'button '+(this.state.colorScheme==='random'?'highlight-button':'')}>Random</div>\n      <div onClick={this.changeColors.bind(this, 'response')}    className={'button '+(this.state.colorScheme==='response'?'highlight-button':'')}>Response</div>\n      <div onClick={this.changeColors.bind(this, 'shuffle')}  className={'button '+(this.state.colorScheme==='shuffle'?'highlight-button':'')}>Shuffle</div>\n    </Fragment>;\n    const canvas = <div style={{position:'absolute',top:0,left:0,visibility:this.state.scope===true?'visible':'hidden'}}><canvas width={appWidth} height={keyboardHeight} id='oscilliscope'></canvas></div>;\n    const keyWidth = isMobile?appWidth/8:appWidth/15;\n    const whiteKey = {\n      width: keyWidth,\n      height:keyboardHeight,\n      marginLeft:isMobile?-.25:-.15\n    };\n    const blackKey = {\n      height:keyboardHeight*(3/5),\n    };\n    const box = this.state.stateBoxes[0];\n    const focusedSetting = () =>{\n      const wave = <Fragment>\n        <label> \n          <select name='wave' value={box.wave} onChange={this.changeSetting.bind(this, box)}>\n            <option value='sine'>Sine</option>\n            <option value='square'>Square</option>\n            <option value='sawtooth'>Sawtooth</option>\n            <option value='triangle'>Triangle</option>\n          </select>\n        </label>\n      </Fragment>;\n      const tremolo = <Fragment>\n        <label>Rate<input type='range' name='tremoloTime' min='100' max='1200' value={box.tremoloTime} onChange={this.changeSetting.bind(this, box)}></input></label>\n        <label>Volume<input type='range' name='tremoloGain' min='0' max='70' value={box.tremoloGain} onChange={this.changeSetting.bind(this, box)}></input></label>\n      </Fragment>;\n      const chorus = <Fragment>\n        <label>Detune<input type='range' name='chorusTime' min='1' max='16' value={box.chorusTime} onChange={this.changeSetting.bind(this, box)}></input></label>\n        <label>Volume<input type='range' name='chorusGain' min='0' max='70' value={box.chorusGain} onChange={this.changeSetting.bind(this, box)}></input></label>\n      </Fragment>;\n      const osc = <Fragment>\n        <label>Show Oscilliscope? <sup>(may impact performance)</sup><input type='checkbox' name='scope' checked={this.state.scope} onChange={this.inputChange}/></label>\n        {this.state.scope===true?scopeInputs:null}\n      </Fragment>;\n      const boxes = {\n        'wave':wave,\n        'tremolo':tremolo,\n        'chorus':chorus,\n        'osc':osc\n      }\n      if(!this.state.focusedSetting||!boxes[this.state.focusedSetting]){return <div className='setting-wrapper'></div>}\n      return <div className='setting-wrapper top'>{boxes[this.state.focusedSetting]}<div className='up-arrow' onClick={this.closeSettingBox.bind(this)}><div className='arrow'></div></div></div>;\n    };\n  const smallKeyboard = <Fragment>\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'c1')}  onTouchEnd={this.stopTouch.bind(this,'c1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'c1')}  onMouseEnter={this.touchOrgan.bind(this,'c1')}  onMouseLeave={this.stopNote.bind(this,'c1')}  id='c1' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'c#1')} onTouchEnd={this.stopTouch.bind(this,'c#1')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'c#1')} onMouseEnter={this.touchOrgan.bind(this,'c#1')} onMouseLeave={this.stopNote.bind(this,'c#1')} id='c#1' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'d1')}  onTouchEnd={this.stopTouch.bind(this,'d1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'d1')}  onMouseEnter={this.touchOrgan.bind(this,'d1')}  onMouseLeave={this.stopNote.bind(this,'d1')}  id='d1' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'d#1')} onTouchEnd={this.stopTouch.bind(this,'d#1')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'d#1')} onMouseEnter={this.touchOrgan.bind(this,'d#1')} onMouseLeave={this.stopNote.bind(this,'d#1')} id='d#1' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'e1')}  onTouchEnd={this.stopTouch.bind(this,'e1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'e1')}  onMouseEnter={this.touchOrgan.bind(this,'e1')}  onMouseLeave={this.stopNote.bind(this,'e1')}  id='e1' style={whiteKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'f1')}  onTouchEnd={this.stopTouch.bind(this,'f1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'f1')}  onMouseEnter={this.touchOrgan.bind(this,'f1')}  onMouseLeave={this.stopNote.bind(this,'f1')}  id='f1' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'f#1')} onTouchEnd={this.stopTouch.bind(this,'f#1')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'f#1')} onMouseEnter={this.touchOrgan.bind(this,'f#1')} onMouseLeave={this.stopNote.bind(this,'f#1')} id='f#1' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'g1')}  onTouchEnd={this.stopTouch.bind(this,'g1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'g1')}  onMouseEnter={this.touchOrgan.bind(this,'g1')}  onMouseLeave={this.stopNote.bind(this,'g1')}  id='g1' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'g#1')} onTouchEnd={this.stopTouch.bind(this,'g#1')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'g#1')} onMouseEnter={this.touchOrgan.bind(this,'g#1')} onMouseLeave={this.stopNote.bind(this,'g#1')} id='g#1' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'a1')}  onTouchEnd={this.stopTouch.bind(this,'a1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'a1')}  onMouseEnter={this.touchOrgan.bind(this,'a1')}  onMouseLeave={this.stopNote.bind(this,'a1')}  id='a1' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'a#1')} onTouchEnd={this.stopTouch.bind(this,'a#1')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'a#1')} onMouseEnter={this.touchOrgan.bind(this,'a#1')} onMouseLeave={this.stopNote.bind(this,'a#1')} id='a#1' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'b1')}  onTouchEnd={this.stopTouch.bind(this,'b1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'b1')}  onMouseEnter={this.touchOrgan.bind(this,'b1')}  onMouseLeave={this.stopNote.bind(this,'b1')}  id='b1' style={whiteKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'c2')}  onTouchEnd={this.stopTouch.bind(this,'c2')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'c2')}  onMouseEnter={this.touchOrgan.bind(this,'c2')}  onMouseLeave={this.stopNote.bind(this,'c2')}  id='c2' style={whiteKey} />\n  </Fragment>;\n  const fullKeyBoard = <Fragment>\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'c')}  onTouchEnd={this.stopTouch.bind(this,'c')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'c')}  onMouseEnter={this.touchOrgan.bind(this,'c')}  onMouseLeave={this.stopNote.bind(this,'c')}  id='c' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'c#')} onTouchEnd={this.stopTouch.bind(this,'c#')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'c#')} onMouseEnter={this.touchOrgan.bind(this,'c#')} onMouseLeave={this.stopNote.bind(this,'c#')} id='c#' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'d')}  onTouchEnd={this.stopTouch.bind(this,'d')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'d')}  onMouseEnter={this.touchOrgan.bind(this,'d')}  onMouseLeave={this.stopNote.bind(this,'d')}  id='d' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'d#')} onTouchEnd={this.stopTouch.bind(this,'d#')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'d#')} onMouseEnter={this.touchOrgan.bind(this,'d#')} onMouseLeave={this.stopNote.bind(this,'d#')} id='d#' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'e')}  onTouchEnd={this.stopTouch.bind(this,'e')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'e')}  onMouseEnter={this.touchOrgan.bind(this,'e')}  onMouseLeave={this.stopNote.bind(this,'e')}  id='e' style={whiteKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'f')}  onTouchEnd={this.stopTouch.bind(this,'f')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'f')}  onMouseEnter={this.touchOrgan.bind(this,'f')}  onMouseLeave={this.stopNote.bind(this,'f')}  id='f' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'f#')} onTouchEnd={this.stopTouch.bind(this,'f#')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'f#')} onMouseEnter={this.touchOrgan.bind(this,'f#')} onMouseLeave={this.stopNote.bind(this,'f#')} id='f#' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'g')}  onTouchEnd={this.stopTouch.bind(this,'g')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'g')}  onMouseEnter={this.touchOrgan.bind(this,'g')}  onMouseLeave={this.stopNote.bind(this,'g')}  id='g' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'g#')} onTouchEnd={this.stopTouch.bind(this,'g#')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'g#')} onMouseEnter={this.touchOrgan.bind(this,'g#')} onMouseLeave={this.stopNote.bind(this,'g#')} id='g#' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'a')}  onTouchEnd={this.stopTouch.bind(this,'a')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'a')}  onMouseEnter={this.touchOrgan.bind(this,'a')}  onMouseLeave={this.stopNote.bind(this,'a')}  id='a' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'a#')} onTouchEnd={this.stopTouch.bind(this,'a#')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'a#')} onMouseEnter={this.touchOrgan.bind(this,'a#')} onMouseLeave={this.stopNote.bind(this,'a#')} id='a#' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'b')}  onTouchEnd={this.stopTouch.bind(this,'b')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'b')}  onMouseEnter={this.touchOrgan.bind(this,'b')}  onMouseLeave={this.stopNote.bind(this,'b')}  id='b' style={whiteKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'c1')}  onTouchEnd={this.stopTouch.bind(this,'c1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'c1')}  onMouseEnter={this.touchOrgan.bind(this,'c1')}  onMouseLeave={this.stopNote.bind(this,'c1')}  id='c1' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'c#1')} onTouchEnd={this.stopTouch.bind(this,'c#1')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'c#1')} onMouseEnter={this.touchOrgan.bind(this,'c#1')} onMouseLeave={this.stopNote.bind(this,'c#1')} id='c#1' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'d1')}  onTouchEnd={this.stopTouch.bind(this,'d1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'d1')}  onMouseEnter={this.touchOrgan.bind(this,'d1')}  onMouseLeave={this.stopNote.bind(this,'d1')}  id='d1' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'d#1')} onTouchEnd={this.stopTouch.bind(this,'d#1')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'d#1')} onMouseEnter={this.touchOrgan.bind(this,'d#1')} onMouseLeave={this.stopNote.bind(this,'d#1')} id='d#1' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'e1')}  onTouchEnd={this.stopTouch.bind(this,'e1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'e1')}  onMouseEnter={this.touchOrgan.bind(this,'e1')}  onMouseLeave={this.stopNote.bind(this,'e1')}  id='e1' style={whiteKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'f1')}  onTouchEnd={this.stopTouch.bind(this,'f1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'f1')}  onMouseEnter={this.touchOrgan.bind(this,'f1')}  onMouseLeave={this.stopNote.bind(this,'f1')}  id='f1' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'f#1')} onTouchEnd={this.stopTouch.bind(this,'f#1')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'f#1')} onMouseEnter={this.touchOrgan.bind(this,'f#1')} onMouseLeave={this.stopNote.bind(this,'f#1')} id='f#1' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'g1')}  onTouchEnd={this.stopTouch.bind(this,'g1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'g1')}  onMouseEnter={this.touchOrgan.bind(this,'g1')}  onMouseLeave={this.stopNote.bind(this,'g1')}  id='g1' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'g#1')} onTouchEnd={this.stopTouch.bind(this,'g#1')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'g#1')} onMouseEnter={this.touchOrgan.bind(this,'g#1')} onMouseLeave={this.stopNote.bind(this,'g#1')} id='g#1' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'a1')}  onTouchEnd={this.stopTouch.bind(this,'a1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'a1')}  onMouseEnter={this.touchOrgan.bind(this,'a1')}  onMouseLeave={this.stopNote.bind(this,'a1')}  id='a1' style={whiteKey} />\n    <button className='synth-key black-key' type='button' onTouchStart={this.playOrgan.bind(this,'a#1')} onTouchEnd={this.stopTouch.bind(this,'a#1')} onMouseUp={this.stopAllNotes.bind(this)} onMouseDown={this.playOrgan.bind(this,'a#1')} onMouseEnter={this.touchOrgan.bind(this,'a#1')} onMouseLeave={this.stopNote.bind(this,'a#1')} id='a#1' style={blackKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'b1')}  onTouchEnd={this.stopTouch.bind(this,'b1')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'b1')}  onMouseEnter={this.touchOrgan.bind(this,'b1')}  onMouseLeave={this.stopNote.bind(this,'b1')}  id='b1' style={whiteKey} />\n    <button className='synth-key white-key' type='button' onTouchStart={this.playOrgan.bind(this,'c2')}  onTouchEnd={this.stopTouch.bind(this,'c2')}  onMouseUp={this.stopAllNotes.bind(this)}  onMouseDown={this.playOrgan.bind(this,'c2')}  onMouseEnter={this.touchOrgan.bind(this,'c2')}  onMouseLeave={this.stopNote.bind(this,'c2')}  id='c2' style={whiteKey} />\n  </Fragment>;\n    return (<div id='synth' style={{width:appWidth+80,margin:'0 auto'}}>\n      <div id='keyboard' >\n        <div style={{position:'relative'}}>\n          <div id='settings'>\n            <div id='wave' onClick={this.showSetting.bind(this, 'wave')} className={'button '+(this.state.focusedSetting==='wave'?'highlight-button':null)}>WAVE</div>\n            <div id='tremolo' onClick={this.showSetting.bind(this, 'tremolo')} className={'button '+(this.state.focusedSetting==='tremolo'?'highlight-button':null)}>TREMOLO</div>\n            <div id='chorus' onClick={this.showSetting.bind(this, 'chorus')} className={'button '+(this.state.focusedSetting==='chorus'?'highlight-button':null)}>CHORUS</div>\n            <div id='reverb' onClick={this.reverbSwitch.bind(this)} className={'button '+(!this.state.convolver?'hidden':!this.state.reverb?'':'highlight-button')}>REVERB</div>\n            <div id='osc' onClick={this.showSetting.bind(this, 'osc')} className={'button '+(this.state.focusedSetting==='osc'?'highlight-button':null)}>OSC</div>\n            <div className='range'><input type='range' name='masterVolume' min='0' max='800' value={this.state.stateBoxes[0].masterVolume} onChange={this.changeSetting.bind(this, box)}></input></div>\n          </div>\n          {focusedSetting()}\n        </div>\n        <div id='touch-keyboard' onTouchStart={this.setTouchKeyboard.bind(this, true)} onMouseDown={this.setTouchKeyboard.bind(this, true)}  className=\"touch-keys\">\n            {this.state.scope === true?canvas:null}\n            {isMobile?smallKeyboard:fullKeyBoard}\n        </div>\n      </div>\n    </div>)\n  }\n} export default Synth;\n\n\n\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Synth from './Synth';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Synth />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}